{"version":3,"sources":["images/status-code-SUCCESS.svg","images/status-code-CLIENT_ERROR.svg","images/status-code-LOADING-black.svg","images/logo.svg","images/edit.svg","images/plus.svg","images/trash.svg","images/close.svg","components/MenuMobile.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ButtonClose.js","components/Popups/ImageZoom.js","components/Form.js","components/Popups/FormPopup.js","components/Popups/Confirm.js","components/Popups/EditProfile.js","components/Popups/EditAvatar.js","components/Popups/AddPlace.js","components/Spinner.js","utils/constants.js","utils/API.js","components/Entrance.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/Popups/InfoTooltip.js","errors/BadRequestError.js","errors/UnauthorizedError.js","utils/auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","MenuMobile","props","className","isShowMenu","email","onClick","signOut","Header","pathname","useLocation","linkText","linkPath","src","logo","alt","loggedIn","classHeaderMenu","showMenu","to","CurrentUserContext","React","createContext","Card","card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardZoom","type","onCardDelete","trash","onCardLike","length","Main","onEditAvatar","onKeyDown","avatar","onEditProfile","edit","about","onAddCard","plus","cards","map","key","Footer","ButtonClose","closeHandler","close","ImageZoom","isOpen","image","onClose","Form","classTitle","entrance","classButton","isDisabled","classPosition","classContainer","title","noValidate","children","infoTooltip","onSubmit","submitName","entranceText","path","entranceLinkText","FormPopup","isPopup","Confirm","evt","preventDefault","EditProfile","useState","setName","classInput","classError","errorMessage","nameError","setNameError","description","setDescription","descriptionError","setDescriptionError","isFormValid","setIsFormValid","useEffect","isPopupLoading","onUpdateUser","id","maxLength","pattern","placeholder","value","onChange","target","validity","valid","validationMessage","required","minLength","EditAvatar","avatarRef","useRef","urlError","setUrlError","current","onUpdateAvatar","ref","AddPlace","setLink","linkError","setLinkError","isNameValid","setIsNameValid","isLinkValid","setIsLinkValid","onAddCardSubmit","Spinner","BASE_URL","api","options","this","_baseUrl","baseUrl","_authorization","authorization","url","params","fetch","then","res","ok","json","Promise","reject","Error","status","_fetch","method","headers","body","JSON","stringify","cardId","cardID","like","Entrance","setEmail","emailError","setEmailError","passwordError","setPasswordError","password","setPassword","emailValid","setEmailValid","passwordValid","setPasswordValid","inputPasswordType","setInputPasswordType","formName","Login","onLogin","cleanCodeStatusInfo","Register","onRegister","ProtectedRoute","Component","component","InfoTooltip","codeStatusInfo","iconStatus","text","BadRequestError","message","getContent","token","err","UnauthorizedError","data","App","setCurrentUser","setCards","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isLoading","setIsLoading","setIsPopupLoading","dataImage","setDataImage","selectedCard","setSelectedCard","cardDelete","setCardDelete","setLoggedIn","isInfoTooltipOpen","setInfoTooltipOpen","loading","setCodeStatusInfo","setIsShowMenu","setClassHeaderMenu","location","history","useHistory","closeAllPopups","handleEsc","handleSignOut","localStorage","removeItem","push","jwt","getItem","auth","catch","console","log","all","getInitialUserInfo","getInitialCards","initialUserInfo","initialCards","window","addEventListener","removeEventListener","Provider","locaction","exact","changeLikeCardStatus","newCard","newCards","c","setItem","escape","success","clientError","error","editUserAvatar","user","finally","editUserInfo","postUserCard","deleteCard","filter","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"8GAAAA,EAAOC,QAAU,IAA0B,iD,mBCA3CD,EAAOC,QAAU,IAA0B,sD,mBCA3CD,EAAOC,QAAU,IAA0B,uD,mBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,2LCe5BC,MAbf,SAAoBC,GAGlB,OACE,yBAAKC,UAAS,gCAA2BD,EAAME,aAC7C,0BAAMD,UAAU,eACd,8BAAOD,EAAMG,OACb,4BAAQF,UAAU,6CAA6CG,QAASJ,EAAMK,SAA9E,qCCsCOC,MAzCf,SAAgBN,GAAO,IASbO,EAAaC,cAAbD,SACFE,EAAQ,UAAmB,aAAbF,EAA0B,qEAAgB,kCACxDG,EAAQ,UAAmB,aAAbH,EAA0B,WAAa,YAE3D,OAEI,4BAAQN,UAAU,oBAChB,yBAAKA,UAAU,UACb,yBAAKU,IAAKC,IAAMC,IAAI,kEAAyBZ,UAAU,iBACtDD,EAAMc,SACF,oCACC,yBAAKb,UAAU,wBACb,8BAAOD,EAAMG,OACb,4BAAQF,UAAU,2BAA2BG,QAASJ,EAAMK,SAA5D,mCAGF,4BACEJ,UAAS,wBAAmBD,EAAMe,iBAClCX,QAtBhB,WACEJ,EAAMgB,SAAS,sBAuBD,iCAKH,kBAAC,IAAD,CAAMC,GAAIP,EAAUT,UAAU,4BAA4BQ,M,mDCtCnES,EAAqBC,IAAMC,cAAc,MCqDhCC,MAnDf,SAAcrB,GAAQ,IACZsB,EAAStB,EAATsB,KAEFC,EAAcJ,IAAMK,WAAWN,GAG/BO,EAAQH,EAAKI,MAAMC,MAAQJ,EAAYI,IAGvCC,EAAyB,qCACCH,EAAQ,GAAK,iCAIvCI,EAAUP,EAAKQ,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,EAAYI,OAGvDM,EAAuB,mCACCJ,EAAU,0BAA4B,IAepE,OACE,wBAAI5B,UAAU,QACZ,yBAAKU,IAAKW,EAAKY,KAAMrB,IAAKS,EAAKa,KAAMlC,UAAU,cAAcG,QAdzC,WACtBJ,EAAMoC,WAAWd,MAcf,4BAAQrB,UAAW2B,EAA2BS,KAAK,SAASjC,QAPtC,WACxBJ,EAAMsC,aAAahB,KAOf,yBAAKT,IAAI,6CAAUZ,UAAU,6BAA6BU,IAAK4B,OAEjE,yBAAKtC,UAAU,qBACb,wBAAIA,UAAU,cAAcqB,EAAKa,MACjC,yBAAKlC,UAAU,yBACb,4BAAQA,UAAWgC,EAAyBI,KAAK,SAASjC,QAjB1C,WACtBJ,EAAMwC,WAAWlB,MAiBX,uBAAGrB,UAAU,qBAAqBqB,EAAKQ,MAAMW,YCcxCC,MAvDf,SAAc1C,GACZ,IAAMuB,EAAcJ,IAAMK,WAAWN,GAErC,OACE,0BAAMjB,UAAU,WACd,6BAASA,UAAU,WACjB,yBAAKA,UAAU,qBAEb,4BAAQA,UAAU,8BAA8BoC,KAAK,SAASjC,QAASJ,EAAM2C,aACrEC,UAAW5C,EAAM2C,cACvB,yBAAKhC,IAAKY,EAAYsB,OAAQhC,IAAKU,EAAYY,KAAMlC,UAAU,2BAGjE,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,+BACb,wBAAIA,UAAU,2BAA2BsB,EAAYY,MACrD,4BAAQlC,UAAU,8BAA8BoC,KAAK,SAASjC,QAASJ,EAAM8C,cACrEF,UAAW5C,EAAM8C,eACvB,yBACEjC,IAAI,4HACJZ,UAAU,8BACVU,IAAKoC,QAGX,uBAAG9C,UAAU,4BAA4BsB,EAAYyB,SAGzD,4BACE/C,UAAU,6BACVoC,KAAK,SACLjC,QAASJ,EAAMiD,UACfL,UAAW5C,EAAMiD,WAEjB,yBACEpC,IAAI,oGACJZ,UAAU,6BACVU,IAAKuC,QAKX,wBAAIjD,UAAU,kBACXD,EAAMmD,MAAMC,KAAI,SAAC9B,GAAD,OAAU,kBAAC,EAAD,CACvB+B,IAAK/B,EAAKK,IACVL,KAAMA,EACNkB,WAAYxC,EAAMwC,WAClBJ,WAAYpC,EAAMoC,WAClBE,aAActC,EAAMsC,qBCzCjBgB,MAVf,WACE,OACE,4BAAQrD,UAAU,oBAChB,yBAAKA,UAAU,UACb,uBAAGA,UAAU,qBAAb,6B,iBCOOsD,MAVf,SAAqBvD,GACnB,OACE,yBAAKC,UAAU,sBACVG,QAASJ,EAAMwD,aACf7C,IAAK8C,IACL5C,IAAI,gDCWE6C,MAhBf,SAAmB1D,GACjB,OACE,yBAAKC,UAAS,+CAA0CD,EAAM2D,QAAU,iBACtE,yBAAK1D,UAAU,eACb,yBACEU,IAAKX,EAAM4D,MAAM1B,KACjBrB,IAAKb,EAAM4D,MAAMzB,KACjBlC,UAAU,iBACZ,kBAAC,EAAD,CAAauD,aAAcxD,EAAM6D,UACjC,wBAAI5D,UAAU,oBAAoBD,EAAM4D,MAAMzB,OAEhD,yBAAKlC,UAAU,iBAAiBG,QAASJ,EAAM6D,YC0DtCC,MApEf,SAAc9D,GAEZ,IAAM+D,EAAU,UAAO/D,EAAMgE,SACzB,cACA,iCAGEC,EAAW,iCACfjE,EAAMgE,SAAN,+DAE6BhE,EAAMkE,WAAa,wBAA0B,KAGtEC,EAAa,UAAMnE,EAAMgE,SAC3B,iBACA,4CAEEI,EAAc,UAAMpE,EAAMgE,SAC5B,kBACA,yCAEJ,OAEE,yBAAK/D,UAAWmE,IAEZpE,EAAMgE,UAAY,kBAAC,EAAD,CAAaR,aAAcxD,EAAM6D,UAErD,wBAAI5D,UAAW8D,GAAa/D,EAAMqE,OAClC,0BAAMpE,UAAWkE,EAAehC,KAAMnC,EAAMmC,KAAMmC,YAAU,GAEzDtE,EAAMgE,SAEL,yBAAK/D,UAAU,gCACZD,EAAMuE,SADT,KAIA,oCACGvE,EAAMuE,SADT,MAMAvE,EAAMwE,aAEN,4BAAQnC,KAAK,SACLpC,UAAWgE,EACX7D,QAASJ,EAAMyE,UACpBzE,EAAM0E,aAOZ1E,EAAMgE,UACH,0BAAM/D,UAAU,uBACjBD,EAAM2E,aACP,kBAAC,IAAD,CACE1D,GAAIjB,EAAM4E,KAAM3E,UAAU,QAAQD,EAAM6E,qBCvCnCC,MApBf,SAAmB9E,GACjB,OACE,yBAAKC,UAAS,qCAAgCD,EAAMmC,KAAtC,YAA+CnC,EAAM2D,OAAU,eAAiB,KAC1F,kBAAC,EAAD,CACEU,MAAOrE,EAAMqE,MACblC,KAAMnC,EAAMmC,KACZ+B,WAAYlE,EAAMkE,WAClBO,SAAUzE,EAAMyE,SAChBC,WAAY1E,EAAM0E,WAClBH,SAAUvE,EAAMuE,SAChBQ,SAAS,EACTP,YAAaxE,EAAMwE,YACnBX,QAAS7D,EAAM6D,UAGnB,yBAAK5D,UAAU,iBAAiBG,QAASJ,EAAM6D,YCQtCmB,MAvBf,SAAiBhF,GAUf,OACE,kBAAC,EAAD,CACEmC,KAAK,eACLkC,MAAM,2DACNK,WAAW,eACXf,OAAQ3D,EAAM2D,OACdE,QAAS7D,EAAM6D,QACfY,SAhBqB,SAACQ,GACxBA,EAAIC,iBAGJlF,EAAMsC,mBCwIK6C,MA5If,SAAqBnF,GACnB,IAAMuB,EAAcJ,IAAMK,WAAWN,GADX,EAGFC,IAAMiE,SAAS,IAHb,mBAGnBjD,EAHmB,KAGbkD,EAHa,OAIQlE,IAAMiE,SAAS,CAC/CE,WAAY,GACZC,WAAY,GACZC,aAAc,KAPU,mBAInBC,EAJmB,KAIRC,EAJQ,OAUYvE,IAAMiE,SAAS,IAV3B,mBAUnBO,EAVmB,KAUNC,EAVM,OAWsBzE,IAAMiE,SAAS,CAC7DE,WAAY,GACZC,WAAY,GACZC,aAAc,KAdU,mBAWnBK,EAXmB,KAWDC,EAXC,OAiBY3E,IAAMiE,UAAS,GAjB3B,mBAiBnBW,EAjBmB,KAiBNC,EAjBM,KAoF1B,OAjEA7E,IAAM8E,WAAU,WACdZ,EAAQ9D,EAAYY,MACpByD,EAAerE,EAAYyB,OAC3BgD,GAAe,GACfN,EAAa,CACXJ,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBM,EAAoB,CAClBR,WAAY,GACZC,WAAY,GACZC,aAAc,OAEf,CAACjE,EAAavB,EAAM2D,SAoDrB,kBAAC,EAAD,CACEA,OAAQ3D,EAAM2D,OACdE,QAAS7D,EAAM6D,QACf1B,KAAK,UACLkC,MAAM,4HACNH,YAAa6B,EACbrB,WAAY1E,EAAMkG,eAAiB,4DAAiB,yDACpDzB,SAjBJ,SAAsBQ,GACpBA,EAAIC,iBACJlF,EAAMmG,aAAa,CACjBhE,OACAa,MAAO2C,IAETK,GAAe,KAab,2BAAO/F,UAAU,sCACf,2BACEA,UAAS,6CAAwCwF,EAAUH,YAC3Dc,GAAG,OACHC,UAAU,KACVlE,KAAK,OACLmE,QAAQ,uPACRC,YAAY,qBACZC,MAAOrE,EACPsE,SApER,SAA0BxB,GACxBI,EAAQJ,EAAIyB,OAAOF,OAEdvB,EAAIyB,OAAOC,SAASC,OAQvBlB,EAAa,CACXJ,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBQ,GAAe,KAZfN,EAAa,CACXJ,WAAY,oBACZC,WAAY,sBACZC,aAAcP,EAAIyB,OAAOG,oBAE3Bb,GAAe,KA4DX3D,KAAK,OACLyE,UAAQ,IAEV,0BACE7G,UAAS,sBAAiBwF,EAAUF,YACpCa,GAAG,eAEFX,EAAUD,eAIf,2BAAOvF,UAAU,sCACf,2BACEA,UAAS,6CAAwC4F,EAAiBP,YAClEc,GAAG,QACHC,UAAU,MACVU,UAAU,IACV5E,KAAK,QACLoE,YAAY,kCACZC,MAAOb,EACPc,SArER,SAAiCxB,GAC/BW,EAAeX,EAAIyB,OAAOF,OAErBvB,EAAIyB,OAAOC,SAASC,OAQvBd,EAAoB,CAClBR,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBQ,GAAe,KAZfF,EAAoB,CAClBR,WAAY,oBACZC,WAAY,sBACZC,aAAcP,EAAIyB,OAAOG,oBAE3Bb,GAAe,KA6DX3D,KAAK,OACLyE,UAAQ,IAEV,0BACE7G,UAAS,sBAAiB4F,EAAiBN,YAC3Ca,GAAG,eAEFP,EAAiBL,iBCpDbwB,MAjFf,SAAoBhH,GAClB,IAAMiH,EAAY9F,IAAM+F,SADC,EAGO/F,IAAMiE,SAAS,CAC7CE,WAAY,GACZC,WAAY,GACZC,aAAc,KANS,mBAGlB2B,EAHkB,KAGRC,EAHQ,OASajG,IAAMiE,UAAS,GAT5B,mBASlBW,EATkB,KASLC,EATK,KAgDzB,OArCA7E,IAAM8E,WAAU,WACdmB,EAAY,CACV9B,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBQ,GAAe,GACfiB,EAAUI,QAAQb,MAAQ,KACzB,CAACxG,EAAM2D,SA8BR,kBAAC,EAAD,CACExB,KAAK,SACLkC,MAAM,wFACNV,OAAQ3D,EAAM2D,OACdE,QAAS7D,EAAM6D,QACfY,SAbJ,SAAsBQ,GACpBA,EAAIC,iBACJlF,EAAMsH,eAAe,CACnBzE,OAAQoE,EAAUI,QAAQb,SAW1BtC,YAAa6B,EACbrB,WAAY1E,EAAMkG,eAAiB,4DAAiB,0DAEpD,2BAAOjG,UAAU,sCACf,2BACEA,UAAS,8CAAyCkH,EAAS7B,YAC3Dc,GAAG,cACHmB,IAAKN,EACLR,SA1CR,WACE,IAAM5D,EAASoE,EAAUI,QAEpBxE,EAAO8D,SAASC,OAQnBQ,EAAY,CACV9B,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBQ,GAAe,KAZfoB,EAAY,CACV9B,WAAY,oBACZC,WAAY,sBACZC,aAAc3C,EAAOgE,oBAEvBb,GAAe,KAkCX7D,KAAK,SACLoE,YAAY,qGACZO,UAAQ,EACRzE,KAAK,QAEP,0BACEpC,UAAS,sBAAiBkH,EAAS5B,YACnCa,GAAG,qBAEFe,EAAS3B,iBCoELgC,MA7If,SAAkBxH,GAAQ,IAAD,EACCmB,IAAMiE,SAAS,IADhB,mBAChBjD,EADgB,KACVkD,EADU,OAEWlE,IAAMiE,SAAS,CAC/CE,WAAY,GACZC,WAAY,GACZC,aAAc,KALO,mBAEhBC,EAFgB,KAELC,EAFK,OAOCvE,IAAMiE,SAAS,IAPhB,mBAOhBlD,EAPgB,KAOVuF,EAPU,OAQWtG,IAAMiE,SAAS,CAC/CE,WAAY,GACZC,WAAY,GACZC,aAAc,KAXO,mBAQhBkC,EARgB,KAQLC,EARK,OAcexG,IAAMiE,UAAS,GAd9B,mBAchBwC,EAdgB,KAcHC,EAdG,OAee1G,IAAMiE,UAAS,GAf9B,mBAehB0C,EAfgB,KAeHC,EAfG,OAgBe5G,IAAMiE,UAAS,GAhB9B,mBAgBhBW,EAhBgB,KAgBHC,EAhBG,KA2FvB,OAzEA7E,IAAM8E,WAAU,WAGd,OAFI2B,GAAeE,GAAa9B,GAAe,GAExC,WACLA,GAAe,MAEhB,CAAC4B,EAAaE,IAEjB3G,IAAM8E,WAAU,WACdP,EAAa,CACXJ,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBmC,EAAa,CACXrC,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBH,EAAQ,IACRoC,EAAQ,IACRI,GAAe,GACfE,GAAe,KACd,CAAC/H,EAAM2D,SAmDR,kBAAC,EAAD,CACExB,KAAK,YACLkC,MAAM,gEACNV,OAAQ3D,EAAM2D,OACdE,QAAS7D,EAAM6D,QACfY,SAdJ,SAAsBQ,GACpBA,EAAIC,iBACJlF,EAAMgI,gBAAgB,CACpB7F,OACAD,UAWAwC,WAAY1E,EAAMkG,eAAiB,gDAAe,6CAClDhC,YAAa6B,GAEb,2BAAO9F,UAAU,sCACf,2BACEA,UAAS,6CAAwCwF,EAAUH,YAC3Dc,GAAG,YACHC,UAAU,KACVU,UAAU,IACV5E,KAAK,QACLoE,YAAY,mDACZO,UAAQ,EACRzE,KAAK,OACLmE,MAAOrE,EACPsE,SArER,SAA0BxB,GACxBI,EAAQJ,EAAIyB,OAAOF,OAEdvB,EAAIyB,OAAOC,SAASC,OAQvBlB,EAAa,CACXJ,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBqC,GAAe,KAZfnC,EAAa,CACXJ,WAAY,oBACZC,WAAY,sBACZC,aAAcP,EAAIyB,OAAOG,oBAE3BgB,GAAe,OA6Db,0BACE5H,UAAS,sBAAiBwF,EAAUF,YACpCa,GAAG,eAEFX,EAAUD,eAGf,2BAAOvF,UAAU,sCACf,2BACEA,UAAS,6CAAwCyH,EAAUpC,YAC3Dc,GAAG,OACHjE,KAAK,MACLoE,YAAY,qGACZO,UAAQ,EACRzE,KAAK,MACLmE,MAAOtE,EACPuE,SAlER,SAA0BxB,GACxBwC,EAAQxC,EAAIyB,OAAOF,OAEdvB,EAAIyB,OAAOC,SAASC,OAQvBe,EAAa,CACXrC,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBuC,GAAe,KAZfJ,EAAa,CACXrC,WAAY,oBACZC,WAAY,sBACZC,aAAcP,EAAIyB,OAAOG,oBAE3BkB,GAAe,OA0Db,0BACE9H,UAAS,sBAAiByH,EAAUnC,YACpCa,GAAG,eAEFsB,EAAUlC,iBC/HNyC,MARf,WACE,OACE,yBAAKhI,UAAU,qBACb,yBAAKA,UAAU,c,eCFRiI,EAAW,gCCmGTC,EAFH,I,WA9FV,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,eAAiBJ,EAAQK,c,mDAUzBC,EAAKC,GACV,OAAOC,MAAMP,KAAKC,SAAWI,EAAKC,GAC/BE,MAAK,SAACC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAJ,gJAA0CL,EAAIM,OAA9C,Y,2CAK1B,OAAOf,KAAKgB,OAAO,YAAa,CAC9BC,OAAQ,MACRC,QAAS,CACPd,cAAeJ,KAAKG,oB,sCAKK,IAAhBrG,EAAe,EAAfA,KAAMa,EAAS,EAATA,MACnB,OAAOqF,KAAKgB,OAAO,YAAa,CAC9BC,OAAQ,QACRC,QAAS,CACPd,cAAeJ,KAAKG,eACpB,eAAgB,oBAElBgB,KAAMC,KAAKC,UAAU,CAAEvH,OAAMa,c,wCAIL,IAAXH,EAAU,EAAVA,OACf,OAAOwF,KAAKgB,OAAO,mBAAoB,CACrCC,OAAQ,QACRC,QAAS,CACPd,cAAeJ,KAAKG,eACpB,eAAgB,oBAElBgB,KAAMC,KAAKC,UAAU,CACnB7G,e,wCAMJ,OAAOwF,KAAKgB,OAAO,SAAU,CAC3BC,OAAQ,MACRC,QAAS,CACPd,cAAeJ,KAAKG,oB,sCAKI,IAAfrG,EAAc,EAAdA,KAAMD,EAAQ,EAARA,KACnB,OAAOmG,KAAKgB,OAAO,SAAU,CAC3BC,OAAQ,OACRC,QAAS,CACPd,cAAeJ,KAAKG,eACpB,eAAgB,oBAElBgB,KAAMC,KAAKC,UAAU,CAAEvH,OAAMD,a,iCAItByH,GACT,OAAOtB,KAAKgB,OAAL,iBAAsBM,GAAU,CACrCL,OAAQ,SACRC,QAAS,CACPd,cAAeJ,KAAKG,oB,2CAKLoB,EAAQC,GAC3B,OAAOxB,KAAKgB,OAAL,uBAA4BO,GAAU,CAC3CN,OAAQO,EAAO,MAAQ,SACvBN,QAAS,CACPd,cAAeJ,KAAKG,sB,KAMhB,CAAQ,CAAED,QDpGC,8CCoGQE,cDnGF,yCEgJdqB,MA9If,SAAkB9J,GAAQ,IAAD,EACGmB,IAAMiE,SAAS,IADlB,mBAChBjF,EADgB,KACT4J,EADS,OAEa5I,IAAMiE,SAAS,CACjDE,WAAY,GACZC,WAAY,GACZC,aAAc,KALO,mBAEhBwE,EAFgB,KAEJC,EAFI,OAQmB9I,IAAMiE,SAAS,CACvDE,WAAY,GACZC,WAAY,GACZC,aAAc,KAXO,mBAQhB0E,EARgB,KAQDC,EARC,OAcShJ,IAAMiE,SAAS,IAdxB,mBAchBgF,EAdgB,KAcNC,EAdM,OAealJ,IAAMiE,UAAS,GAf5B,mBAehBkF,EAfgB,KAeJC,EAfI,OAgBmBpJ,IAAMiE,UAAS,GAhBlC,mBAgBhBoF,EAhBgB,KAgBDC,EAhBC,OAiBetJ,IAAMiE,UAAS,GAjB9B,mBAiBhBW,EAjBgB,KAiBHC,EAjBG,OAkB2B7E,IAAMiE,SAAS,YAlB1C,mBAkBhBsF,EAlBgB,KAkBGC,EAlBH,KAgFvB,OA5DAxJ,IAAM8E,WAAU,WAGd,OAFIqE,GAAcE,GAAexE,GAAe,GAEzC,WACLA,GAAe,MAEhB,CAACsE,EAAYE,IAwDd,yBAAKvK,UAAU,YACb,kBAAC,EAAD,CACE2K,SAAS,WACTvG,MAAOrE,EAAMqE,MACbK,WAAY1E,EAAM0E,WAClBV,UAAU,EACVS,SAnBN,SAAkBQ,GAChBA,EAAIC,kBACC/E,GAAUiK,KACfpK,EAAMyE,SAAS2F,EAAUjK,GACzBkK,EAAY,MAgBRzF,KAAM5E,EAAM4E,KACZD,aAAc3E,EAAM2E,aACpBE,iBAAkB7E,EAAM6E,iBACxBX,YAAa6B,GAEb,2BAAO9F,UAAU,yCACf,2BACEkC,KAAK,QACLlC,UAAS,gDAA2C+J,EAAW1E,YAC/Dc,GAAG,YACHG,YAAY,QACZO,UAAQ,EACRzE,KAAK,QACLmE,MAAOrG,EACPsG,SA3EV,SAA2BxB,GACzB8E,EAAS9E,EAAIyB,OAAOF,OAEfvB,EAAIyB,OAAOC,SAASC,OAQvBqD,EAAc,CACZ3E,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhB+E,GAAc,KAZdN,EAAc,CACZ3E,WAAY,oBACZC,WAAY,sBACZC,aAAcP,EAAIyB,OAAOG,oBAE3B0D,GAAc,OAoEV,0BACEtK,UAAS,sBAAiB+J,EAAWzE,YACrCa,GAAG,eAEJ4D,EAAWxE,eAGd,2BAAOvF,UAAU,yCACf,2BACEA,UAAS,gDAA2CiK,EAAc5E,YAClEmB,SAnEV,SAA8BxB,GAC5BoF,EAAYpF,EAAIyB,OAAOF,OAElBvB,EAAIyB,OAAOC,SAASC,OAQvBuD,EAAiB,CACf7E,WAAY,GACZC,WAAY,GACZC,aAAc,KAEhBiF,GAAiB,KAZjBN,EAAiB,CACf7E,WAAY,oBACZC,WAAY,sBACZC,aAAcP,EAAIyB,OAAOG,oBAE3B4D,GAAiB,KA2DXpI,KAAMqI,EACNtE,GAAG,WACHjE,KAAK,WACLqE,MAAO4D,EACP7D,YAAY,uCACZQ,UAAU,IACVV,UAAU,KACVS,UAAQ,IAEV,4BACEzE,KAAK,SACLpC,UAAS,gEAA2DyK,EAA3D,KACTtK,QApDV,WACqCuK,EAAb,aAAtBD,EAAwD,OAA+B,aAoD/E9H,UAAW,SAACqC,GAAD,OAASA,EAAIC,kBAC1B,0BACEjF,UAAS,sBAAiBiK,EAAc3E,YACxCa,GAAG,eAEJ8D,EAAc1E,kBCnHVqF,MAnBf,SAAe7K,GAMb,OACE,kBAAC,EAAD,CACE0E,WAAW,iCACXL,MAAM,2BACNM,aAAa,qIACbE,iBAAiB,qEACjBD,KAAK,WACLH,SAXJ,SAAoB2F,EAAUjK,GAC5BH,EAAM8K,QAAQV,EAAUjK,IAWtB4K,oBAAqB/K,EAAM+K,uBCGlBC,MAjBf,SAAkBhL,GAKhB,OACE,kBAAC,EAAD,CACE0E,WAAW,+GACXL,MAAM,qEACNM,aAAa,wHACbE,iBAAiB,iCACjBJ,SAVJ,SAAoB2F,EAAUjK,GAC5BH,EAAMiL,WAAWb,EAAUjK,IAUzByE,KAAK,c,QCJIsG,EARQ,SAAC,GAAD,IAAcC,EAAd,EAAGC,UAAyBpL,EAA5B,oCACrB,kBAAC,IAAD,MAEI,kBAAOA,EAAMc,SAAW,kBAACqK,EAAcnL,GAAY,kBAAC,IAAD,CAAUiB,GAAG,iBCkBvDoK,MArBf,SAAqBrL,GAEnB,OACE,kBAAC,EAAD,CACEmC,KAAK,eACLyI,SAAS,cACTjH,OAAQ3D,EAAM2D,OACdE,QAAS7D,EAAM6D,QACf/C,SAAUd,EAAMc,SAChB0D,aAAa,GAEb,yBAAK7D,IAAKX,EAAMsL,eAAeC,WAAY1K,IAAI,oIAA2BZ,UAAU,eACpF,yBAAKA,UAAU,mCACb,uBAAGA,UAAU,eAAeD,EAAMsL,eAAeE,S,wBCR1CC,E,kDAPb,WAAYC,GAAU,IAAD,8BACnB,cAAMA,IACDtC,OAAS,IACd,EAAKsC,QAAUA,EAHI,E,sBADOvC,QCQfsC,E,kDAPb,WAAYC,GAAU,IAAD,8BACnB,cAAMA,IACDtC,OAAS,IACd,EAAKsC,QAAUA,EAHI,E,sBADOvC,QCgDjBwC,EAAa,SAACC,GAAD,OAAWhD,MAAM,GAAD,OAAIV,EAAJ,aAAyB,CACjEoB,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BqC,MAG5B/C,MAAK,SAACC,GACL,OAAKA,EAAIC,GAMFD,EAAIE,OALFF,EAAIE,OACRH,MAAK,SAACgD,GACL,MAAM,IAAIC,EAAkBD,EAAIH,eAKvC7C,MAAK,SAACkD,GAAD,OAAUA,M,yDC+RHC,OApUf,WAAgB,IAAD,EACyB7K,IAAMiE,SAAS,CACnDjD,KAAM,GACNU,OAAQ,GACRG,MAAO,GACPrB,IAAK,KALM,mBACNJ,EADM,KACO0K,EADP,OAOa9K,IAAMiE,SAAS,IAP5B,mBAONjC,EAPM,KAOC+I,EAPD,OAQ6C/K,IAAMiE,UAAS,GAR5D,mBAQN+G,EARM,KAQiBC,EARjB,OAS+CjL,IAAMiE,UAAS,GAT9D,mBASNiH,EATM,KASkBC,EATlB,OAUuCnL,IAAMiE,UAAS,GAVtD,mBAUNmH,EAVM,KAUcC,EAVd,OAWuCrL,IAAMiE,UAAS,GAXtD,mBAWNqH,EAXM,KAWcC,EAXd,OAYqBvL,IAAMiE,UAAS,GAZpC,mBAYNuH,EAZM,KAYKC,EAZL,OAa+BzL,IAAMiE,UAAS,GAb9C,oBAaNc,GAbM,MAaU2G,GAbV,SAeqB1L,IAAMiE,SAAS,CAC/ClD,KAAM,GACNC,KAAM,KAjBK,qBAeN2K,GAfM,MAeKC,GAfL,SAmB2B5L,IAAMiE,UAAS,GAnB1C,qBAmBN4H,GAnBM,MAmBQC,GAnBR,SAoBuB9L,IAAMiE,SAAS,IApBtC,qBAoBN8H,GApBM,MAoBMC,GApBN,SAsBmBhM,IAAMiE,UAAS,GAtBlC,qBAsBNtE,GAtBM,MAsBIsM,GAtBJ,SAuBajM,IAAMiE,SAAS,IAvB5B,qBAuBNjF,GAvBM,MAuBC4J,GAvBD,SAwBmC5I,IAAMiE,UAAS,GAxBlD,qBAwBNiI,GAxBM,MAwBaC,GAxBb,SAyB+BnM,IAAMiE,SAAS,CACzDmG,WAAYgC,KACZ/B,KAAM,wDA3BK,qBAyBNF,GAzBM,MAyBUkC,GAzBV,SA8BuBrM,IAAMiE,SAAS,0BA9BtC,qBA8BNlF,GA9BM,MA8BMuN,GA9BN,SA+BiCtM,IAAMiE,SAAS,4BA/BhD,qBA+BNrE,GA/BM,MA+BW2M,GA/BX,MAgCPC,GAAWnN,cACXoN,GAAUC,cAiBhB,SAAS9C,KACPyC,GACE,CACEjC,WAAYgC,KACZ/B,KAAM,wDAuEZ,SAASsC,KACP1B,GAAyB,GACzBE,GAA0B,GAC1BE,GAAsB,GACtBE,GAAsB,GACtBO,IAAgB,GAChBK,IAAmB,GAGrB,SAASS,GAAU9I,GACD,WAAZA,EAAI5B,KACNyK,KAgFJ,SAASE,KACPZ,IAAY,GACZa,aAAaC,WAAW,OACxBnE,GAAS,IACT6D,GAAQO,KAAK,YAaf,OArMAhN,IAAM8E,WAAU,WACd,IAAMmI,EAAMH,aAAaI,QAAQ,OAC7BD,GACFE,EAAgBF,GACbvF,MAAK,SAACC,GACLsE,IAAY,GACZrD,GAASjB,EAAIiD,KAAK5L,OAClByN,GAAQO,KAAK,QAEdI,OAAM,SAAA1C,GAAG,OAAI2C,QAAQC,IAAI5C,QAE7B,CAAC+B,KA6CJzM,IAAM8E,WAAU,WACd2G,GAAa,GACb3D,QAAQyF,IAAI,CAACvG,EAAIwG,qBAAsBxG,EAAIyG,oBACxC/F,MAAK,YAAsC,IAAD,mBAAnCgG,EAAmC,KAAlBC,EAAkB,KACzC7C,EAAe4C,GACf3C,EAAS4C,GACTlC,GAAa,MAEd2B,OAAM,SAAC1C,GAAD,OAAS2C,QAAQC,IAAR,uQAA+D5C,SAChF,IAuCH1K,IAAM8E,WAAU,WAGd,OAFA8I,OAAOC,iBAAiB,UAAWjB,IAE5B,WACLgB,OAAOE,oBAAoB,UAAWlB,QA0FxC,kBAAC7M,EAAmBgO,SAApB,CAA6B1I,MAAOjF,GACjCT,IACD,kBAAE,EAAF,CACEX,MAAOA,GACPE,QAAS2N,GACT9N,WAAYA,KAGd,kBAAC,EAAD,CACEY,SAAUA,GACVqO,UAAWxB,GACXxN,MAAOA,GACPE,QAAS2N,GACThN,SAxBN,WAEMyM,GADW,2BAAfvN,GACkB,wBACA,0BAGdwN,GADgB,6BAApB3M,GACuB,2BACA,6BAkBnBA,gBAAiBA,KAEnB,kBAAC,IAAD,KACG4L,EACG,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAgByC,OAAK,EAACxK,KAAK,IACX9D,SAAUA,GACVsK,UAAW1I,EACXC,aAzJ1B,WACEyJ,GAAyB,IAyJDtJ,cAtJ1B,WACEwJ,GAA0B,IAsJFrJ,UAnJ1B,WACEuJ,GAAsB,IAmJEpK,WA3I1B,SAAwBpC,GACtBiN,IAAgB,GAChBF,GAAa,CAAE7K,KAAMlC,EAAMkC,KAAMC,KAAMnC,EAAMmC,QA0IrBG,aAjJ1B,SAA+BhB,GAC7B6L,GAAc7L,GACdoL,GAAsB,IAgJElK,WAjH1B,SAAwBlB,GAEtB,IAAMO,EAAUP,EAAKQ,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQJ,EAAYI,OAG7DwG,EAAIkH,qBAAqB/N,EAAKK,KAAME,GACjCgH,MAAK,SAACyG,GAEL,IAAMC,EAAWpM,EAAMC,KAAI,SAACoM,GAAD,OAAQA,EAAE7N,MAAQL,EAAKK,IAAM2N,EAAUE,KAElEtD,EAASqD,MAEVhB,OAAM,SAAC1C,GACN2C,QAAQC,IAAR,mJAA0C5C,QAqGtB1I,MAAOA,IAG3B,kBAAC,IAAD,CAAOyB,KAAK,YACV,kBAAC,EAAD,CAAOkG,QAlMf,SAAqBV,EAAUjK,GAE7B4K,KD5EqB,SAACX,EAAUjK,GAAX,OAAqByI,MAAM,GAAD,OAAIV,EAAJ,WAAuB,CACxEoB,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEU,WAAUjK,YAEhC0I,MAAK,SAACC,GACL,GAAmB,MAAfA,EAAIM,OACN,MAAM,IAAIqC,EAAgB,sIAEvB,GAAmB,MAAf3C,EAAIM,OACX,MAAM,IAAI0C,EAAkB,0KAE9B,OAAOhD,EAAIE,UAEZH,MAAK,SAACkD,GACL,GAAIA,EAAKH,MAEP,OADAqC,aAAawB,QAAQ,MAAO1D,EAAKH,OAC1BG,EAAKH,SC2Dd0C,CAAeoB,OAAOtF,GAAWjK,GAC9B0I,MAAK,SAACkD,GACLuC,EAAgBvC,GACblD,MAAK,SAACC,GACLiB,GAASjB,EAAIiD,KAAK5L,UAEnBoO,OAAM,SAAA1C,GAAG,OAAI2C,QAAQC,IAAI5C,MAC5BuB,IAAY,GACZI,GAAkB,CAAEjC,WAAYoE,IAASnE,KAAM,+EAC/CoC,GAAQO,KAAK,QAGdI,OAAM,SAAC1C,GAAD,OAAS2B,GAAkB,CAAEjC,WAAYqE,KAAapE,KAAMK,EAAIH,aACzE4B,IAAmB,OAoLf,kBAAC,IAAD,CAAO1I,KAAK,YACV,kBAAC,EAAD,CAAUqG,WAnNlB,SAAwBb,EAAUjK,GAEhC4K,KDpFoB,SAACX,EAAUjK,GAAX,OAAqByI,MAAM,GAAD,OAAIV,EAAJ,WAAuB,CACvEoB,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEU,WAAUjK,YAEhC0I,MAAK,SAACC,GACL,OAAKA,EAAIC,GAUFD,EAAIE,OATFF,EAAIE,OACRH,MAAK,SAACgD,GACL,MAAIA,EAAIgE,MACA,IAAIpE,EAAgBI,EAAIgE,OAExB,IAAIpE,EAAgBI,EAAIH,eCwEtC4C,CAAcoB,OAAOtF,GAAWjK,GAC7B0I,MAAK,WACJ2E,GAAkB,CAAEjC,WAAYoE,IAASnE,KAAM,2JAEhD+C,OAAM,SAAC1C,GAAD,OAAS2B,GAAkB,CAAEjC,WAAYqE,KAAapE,KAAMK,EAAIH,aACzE4B,IAAmB,OA6Mf,kBAAC,IAAD,KACGxM,GAAW,kBAAC,IAAD,CAAUG,GAAG,MAAQ,kBAAC,IAAD,CAAUA,GAAG,eAIlD,kBAAC,EAAD,MAEA,kBAAC,EAAD,CACE0C,OAAQwI,EACRjG,eAAgBA,GAChBrC,QAASiK,GACTxG,eA9FN,YAAyC,IAAXzE,EAAU,EAAVA,OAE5B,OADAgK,IAAkB,GACX1E,EAAI2H,eAAe,CAAEjN,WACzBgG,MAAK,SAACkH,GACL9D,EAAe8D,GACfjC,QAEDS,OAAM,SAAC1C,GAAD,OAAS2C,QAAQqB,MAAR,2KAAgDhE,OAC/DmE,SAAQ,WACPnD,IAAkB,SAwFpB,kBAAC,EAAD,CACElJ,OAAQ0I,EACRnG,eAAgBA,GAChBrC,QAASiK,GACT3H,aAlHN,YAA4C,IAAhBhE,EAAe,EAAfA,KAAMa,EAAS,EAATA,MAEhC,OADA6J,IAAkB,GACX1E,EAAI8H,aAAa,CAAE9N,OAAMa,UAC7B6F,MAAK,SAACkH,GACL9D,EAAe8D,GACfjC,QAEDS,OAAM,SAAC1C,GAAD,OAAS2C,QAAQC,IAAR,0PAA4D5C,OAC3EmE,SAAQ,WACPnD,IAAkB,SA4GpB,kBAAC,EAAD,CACElJ,OAAQ4I,EACRrG,eAAgBA,GAChBrC,QAASiK,GACT9F,gBA/FuB,SAAC,GAAoB,IAAlB7F,EAAiB,EAAjBA,KAAMD,EAAW,EAAXA,KAEpC,OADA2K,IAAkB,GACX1E,EAAI+H,aAAa,CAAE/N,OAAMD,SAC7B2G,MAAK,SAACyG,GACLpD,EAAS,CAACoD,GAAF,mBAAcnM,KACtB2K,QAEDS,OAAM,SAAC1C,GAAD,OAAS2C,QAAQC,IAAR,iLAA+C5C,OAC9DmE,SAAQ,WACPnD,IAAkB,SAyFpB,kBAAC,EAAD,CACElJ,OAAQ8I,EACR5I,QAASiK,GACTxL,aA3IN,WACE6F,EAAIgI,WAAWjD,GAAWvL,KACvBkH,MAAK,WACJ,IAAM0G,EAAWpM,EAAMiN,QAAO,SAACZ,GAAD,OAAOA,EAAE7N,MAAQuL,GAAWvL,OAC1DuK,EAASqD,GACTzB,QAEDS,OAAM,SAAC1C,GACN2C,QAAQC,IAAR,qKAA6C5C,UAsI/C,kBAAC,EAAD,CACElI,OAAQ0J,GACRxJ,QAASiK,GACThN,SAAUA,GACVwK,eAAgBA,KAGlB,kBAAC,EAAD,CACE3H,OAAQqJ,GACRnJ,QAASiK,GACTlK,MAAOkJ,OC5UKuD,QACW,cAA7BtB,OAAOpB,SAAS2C,UAEe,UAA7BvB,OAAOpB,SAAS2C,UAEhBvB,OAAOpB,SAAS2C,SAASC,MACvB,2DCXNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,QAGJC,SAASC,eAAe,SDsHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBlI,MAAK,SAAAmI,GACJA,EAAaC,gBAEd1C,OAAM,SAAAsB,GACLrB,QAAQqB,MAAMA,EAAMnE,c","file":"static/js/main.7b4f48f2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/status-code-SUCCESS.7fc4c149.svg\";","module.exports = __webpack_public_path__ + \"static/media/status-code-CLIENT_ERROR.c32299fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/status-code-LOADING-black.4f68ddc2.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.9d0e3a93.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.a41c84ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.3742cf7e.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash.9c3b03ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.c2d0901f.svg\";","import React from 'react';\r\n\r\nfunction MenuMobile(props) {\r\n\r\n\r\n  return (\r\n    <div className={`menu-mobile__position ${props.isShowMenu}`}>\r\n      <menu className='menu-mobile'>\r\n        <span>{props.email}</span>\r\n        <button className='button link header__link menu-mobile__exit' onClick={props.signOut}>Выйти</button>\r\n      </menu>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MenuMobile;\r\n","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\nimport MenuMobile from './MenuMobile';\r\n\r\n\r\nfunction Header(props) {\r\n\r\n\r\n\r\n  // Открыть/закрыть email пользователя в мобильной версии\r\n  function openAuthInfo() {\r\n    props.showMenu('mobile_position1');\r\n  }\r\n\r\n  const { pathname } = useLocation();\r\n  const linkText = `${pathname === '/sign-in' ? 'Регистрация' : 'Войти'}`;\r\n  const linkPath = `${pathname === '/sign-in' ? '/sign-up' : '/sign-in'}`;\r\n\r\n  return (\r\n\r\n      <header className='header__position'>\r\n        <div className='header'>\r\n          <img src={logo} alt='Логотип «Mesto Russia»' className='header__logo'/>\r\n          {props.loggedIn\r\n            ? (<>\r\n                <div className='header__info-desktop'>\r\n                  <span>{props.email}</span>\r\n                  <button className='button link header__link' onClick={props.signOut}>Выйти</button>\r\n                </div>\r\n\r\n                <button\r\n                  className={`header__menu  ${props.classHeaderMenu}`}\r\n                  onClick={openAuthInfo}\r\n                >\r\n                  <span/>\r\n                </button>\r\n\r\n              </>\r\n            )\r\n            : (<Link to={linkPath} className=\"button link header__link\">{linkText}</Link>)\r\n          }\r\n        </div>\r\n      </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext(null);\r\n\r\nexport { CurrentUserContext as default };\r\n","import React from 'react';\r\nimport trash from '../images/trash.svg';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const { card } = props;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `button card__button-delete ${isOwn ? '' : 'card__button-delete_invisible'}`\r\n  );\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n    `button card__button-like ${isLiked ? 'card__button-like_solid' : ''}`\r\n  );\r\n\r\n  const handleZoomClick = () => {\r\n    props.onCardZoom(card);\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    props.onCardLike(card);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    props.onCardDelete(card);\r\n  };\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <img src={card.link} alt={card.name} className=\"card__image\" onClick={handleZoomClick}/>\r\n      <button className={cardDeleteButtonClassName} type=\"submit\" onClick={handleDeleteClick}>\r\n        <img alt=\"Удалить\" className=\"card__button-delete-vector\" src={trash}/>\r\n      </button>\r\n      <div className=\"card__description\">\r\n        <h2 className=\"card__name\">{card.name}</h2>\r\n        <div className=\"card__likes-container\">\r\n          <button className={cardLikeButtonClassName} type=\"submit\" onClick={handleLikeClick}/>\r\n          <p className=\"card__count-likes\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport edit from '../images/edit.svg';\r\nimport plus from '../images/plus.svg';\r\nimport Card from './Card';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__position\">\r\n\r\n          <button className=\"button profile__avatar-edit\" type=\"button\" onClick={props.onEditAvatar}\r\n                  onKeyDown={props.onEditAvatar}>\r\n            <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__avatar-image\"/>\r\n          </button>\r\n\r\n          <div className=\"profile__user-info\">\r\n            <div className=\"profile__name-edit-position\">\r\n              <h1 className=\"profile__user-info-name\">{currentUser.name}</h1>\r\n              <button className=\"button profile__button-edit\" type=\"button\" onClick={props.onEditProfile}\r\n                      onKeyDown={props.onEditProfile}>\r\n                <img\r\n                  alt=\"Редактировать профиль\"\r\n                  className=\"profile__button-edit-vector\"\r\n                  src={edit}/>\r\n              </button>\r\n            </div>\r\n            <p className=\"profile__user-info-about\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"button profile__button-add\"\r\n          type=\"button\"\r\n          onClick={props.onAddCard}\r\n          onKeyDown={props.onAddCard}\r\n        >\r\n          <img\r\n            alt=\"Добавить карточку\"\r\n            className=\"profile__button-add-vector\"\r\n            src={plus}\r\n          />\r\n        </button>\r\n      </section>\r\n\r\n      <ul className=\"card-container\">\r\n        {props.cards.map((card) => <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardLike={props.onCardLike}\r\n            onCardZoom={props.onCardZoom}\r\n            onCardDelete={props.onCardDelete}\r\n          />)}\r\n      </ul>\r\n\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer__position\">\r\n      <div className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport close from '../images/close.svg';\r\n\r\nfunction ButtonClose(props) {\r\n  return (\r\n    <img className=\"button popup__close\"\r\n         onClick={props.closeHandler}\r\n         src={close}\r\n         alt=\"Закрыть\"\r\n    />\r\n  );\r\n}\r\n\r\nexport default ButtonClose;\r\n","import React from 'react';\r\nimport ButtonClose from '../ButtonClose';\r\n\r\nfunction ImageZoom(props) {\r\n  return (\r\n    <div className={`popup popup__closed popup__zoom-card ${props.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__zoom\">\r\n        <img\r\n          src={props.image.link}\r\n          alt={props.image.name}\r\n          className=\"popup__image\"/>\r\n        <ButtonClose closeHandler={props.onClose}/>\r\n        <h2 className=\"popup__card-name\">{props.image.name}</h2>\r\n      </div>\r\n      <div className=\"popup__overlay\" onClick={props.onClose}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImageZoom;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ButtonClose from \"./ButtonClose\";\r\n\r\nfunction Form(props) {\r\n\r\n  const classTitle = `${(props.entrance)\r\n    ? 'form__title'\r\n    : 'form__title form__title_popup'\r\n  }`;\r\n\r\n  const classButton = `button form__button\r\n  ${props.entrance\r\n    ? `form__button_type_entrance`\r\n    : `form__button_type_popup ${props.isDisabled ? 'form__button_disabled' : ''}`\r\n  }`;\r\n\r\n  const classPosition = `${props.entrance\r\n    ? 'form__position'\r\n    : 'form__position form__position_type_popup'}`;\r\n\r\n  const classContainer = `${props.entrance\r\n    ? 'form__container'\r\n    : 'form__container form__container_popup'}`;\r\n\r\n  return (\r\n\r\n    <div className={classContainer}>\r\n\r\n      {!props.entrance && <ButtonClose closeHandler={props.onClose}/>}\r\n\r\n      <h2 className={classTitle}>{props.title}</h2>\r\n      <form className={classPosition} name={props.name} noValidate>\r\n\r\n        {props.entrance\r\n          ?\r\n          <div className=\"form__position_type_entrance\">{/*Обертка нужна, чтобы кнопка \"войти\" была подвижной*/}\r\n            {props.children} {/*Здесь лежат \"инпуты\"*/}\r\n          </div>\r\n          :\r\n          <>\r\n            {props.children} {/* для попапов подвижность не нудна*/}\r\n          </>\r\n        }\r\n\r\n        {/*Если у нас попап с советами, то нет кнопки \"отправить\"*/}\r\n        {!props.infoTooltip\r\n        && (\r\n          <button type=\"submit\"\r\n                  className={classButton}\r\n                  onClick={props.onSubmit}>\r\n            {props.submitName}\r\n          </button>\r\n        )}\r\n\r\n      </form>\r\n\r\n      {/*ТЕКСТ под кнопкой \"отправить\" только для входа*/}\r\n      {props.entrance\r\n      && (<span className='form__entrance-text'>\r\n        {props.entranceText}\r\n        <Link\r\n          to={props.path} className='link'>{props.entranceLinkText}\r\n        </Link>\r\n      </span>)\r\n      }\r\n\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React from 'react';\r\nimport Form from '../Form';\r\n\r\nfunction FormPopup(props) {\r\n  return (\r\n    <div className={`popup popup__closed popup__${props.name} ${(props.isOpen) ? 'popup_opened' : ''}`}>\r\n        <Form\r\n          title={props.title}\r\n          name={props.name}\r\n          isDisabled={props.isDisabled}\r\n          onSubmit={props.onSubmit}\r\n          submitName={props.submitName}\r\n          children={props.children}\r\n          isPopup={true}\r\n          infoTooltip={props.infoTooltip}\r\n          onClose={props.onClose}\r\n        />\r\n\r\n      <div className=\"popup__overlay\" onClick={props.onClose}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormPopup;\r\n","import React from 'react';\r\nimport FormPopup from './FormPopup';\r\n\r\nfunction Confirm(props) {\r\n  const handleCardDelete = (evt) => {\r\n    evt.preventDefault();\r\n\r\n\r\n    props.onCardDelete();\r\n\r\n\r\n  };\r\n\r\n  return (\r\n    <FormPopup\r\n      name=\"are-you-sure\"\r\n      title=\"Вы уверены?\"\r\n      submitName=\"Да\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleCardDelete}\r\n\r\n    />\r\n  );\r\n}\r\n\r\nexport default Confirm;\r\n","import React from 'react';\r\nimport FormPopup from './FormPopup';\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\n\r\nfunction EditProfile(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [nameError, setNameError] = React.useState({\r\n    classInput: '',\r\n    classError: '',\r\n    errorMessage: '',\r\n  });\r\n\r\n  const [description, setDescription] = React.useState('');\r\n  const [descriptionError, setDescriptionError] = React.useState({\r\n    classInput: '',\r\n    classError: '',\r\n    errorMessage: '',\r\n  });\r\n\r\n  const [isFormValid, setIsFormValid] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n    setIsFormValid(true);\r\n    setNameError({\r\n      classInput: '',\r\n      classError: '',\r\n      errorMessage: '',\r\n    });\r\n    setDescriptionError({\r\n      classInput: '',\r\n      classError: '',\r\n      errorMessage: '',\r\n    });\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n\r\n    if (!evt.target.validity.valid) {\r\n      setNameError({\r\n        classInput: 'form__input_error',\r\n        classError: 'form__error_visible',\r\n        errorMessage: evt.target.validationMessage,\r\n      });\r\n      setIsFormValid(false);\r\n    } else {\r\n      setNameError({\r\n        classInput: '',\r\n        classError: '',\r\n        errorMessage: '',\r\n      });\r\n      setIsFormValid(true);\r\n    }\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n\r\n    if (!evt.target.validity.valid) {\r\n      setDescriptionError({\r\n        classInput: 'form__input_error',\r\n        classError: 'form__error_visible',\r\n        errorMessage: evt.target.validationMessage,\r\n      });\r\n      setIsFormValid(false);\r\n    } else {\r\n      setDescriptionError({\r\n        classInput: '',\r\n        classError: '',\r\n        errorMessage: '',\r\n      });\r\n      setIsFormValid(true);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n    setIsFormValid(true);\r\n  }\r\n\r\n  return (\r\n    <FormPopup\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      isDisabled={!isFormValid}\r\n      submitName={props.isPopupLoading ? 'Сохранить...' : 'Сохранить'}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field form__field_type_popup\">\r\n        <input\r\n          className={`form__input form__input_type_popup ${nameError.classInput}`}\r\n          id=\"name\"\r\n          maxLength=\"40\"\r\n          name=\"name\"\r\n          pattern=\"[A-Za-zА-Яа-яЁё]*[A-Za-zА-Яа-яЁё]+[A-Za-zА-Яа-яЁё\\s\\-]*[A-Za-zА-Яа-яЁё]+[A-Za-zА-Яа-яЁё\\s]*\"\r\n          placeholder=\"Имя\"\r\n          value={name}\r\n          onChange={handleNameChange}\r\n          type=\"text\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__error ${nameError.classError}`}\r\n          id=\"about-error\"\r\n        >\r\n          {nameError.errorMessage}\r\n        </span>\r\n      </label>\r\n\r\n      <label className=\"form__field form__field_type_popup\">\r\n        <input\r\n          className={`form__input form__input_type_popup ${descriptionError.classInput}`}\r\n          id=\"about\"\r\n          maxLength=\"200\"\r\n          minLength=\"2\"\r\n          name=\"about\"\r\n          placeholder=\"О себе\"\r\n          value={description}\r\n          onChange={handleDescriptionChange}\r\n          type=\"text\"\r\n          required\r\n        />\r\n        <span\r\n          className={`form__error ${descriptionError.classError}`}\r\n          id=\"about-error\"\r\n        >\r\n          {descriptionError.errorMessage}\r\n        </span>\r\n      </label>\r\n\r\n    </FormPopup>\r\n  );\r\n}\r\n\r\nexport default EditProfile;\r\n","import React from 'react';\r\nimport FormPopup from './FormPopup';\r\n\r\nfunction EditAvatar(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  const [urlError, setUrlError] = React.useState({\r\n    classInput: '',\r\n    classError: '',\r\n    errorMessage: '',\r\n  });\r\n\r\n  const [isFormValid, setIsFormValid] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setUrlError({\r\n      classInput: '',\r\n      classError: '',\r\n      errorMessage: '',\r\n    });\r\n    setIsFormValid(false);\r\n    avatarRef.current.value = '';\r\n  }, [props.isOpen]);\r\n\r\n  function handleChange() {\r\n    const avatar = avatarRef.current;\r\n\r\n    if (!avatar.validity.valid) {\r\n      setUrlError({\r\n        classInput: 'form__input_error',\r\n        classError: 'form__error_visible',\r\n        errorMessage: avatar.validationMessage,\r\n      });\r\n      setIsFormValid(false);\r\n    } else {\r\n      setUrlError({\r\n        classInput: '',\r\n        classError: '',\r\n        errorMessage: '',\r\n      });\r\n      setIsFormValid(true);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <FormPopup\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isDisabled={!isFormValid}\r\n      submitName={props.isPopupLoading ? 'Сохранить...' : 'Сохранить'}\r\n    >\r\n      <label className=\"form__field form__field_type_popup\">\r\n        <input\r\n          className={`form__input form__input_type_popup  ${urlError.classInput}`}\r\n          id=\"link-avatar\"\r\n          ref={avatarRef}\r\n          onChange={handleChange}\r\n          name=\"avatar\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          type=\"url\"\r\n        />\r\n        <span\r\n          className={`form__error ${urlError.classError}`}\r\n          id=\"link-avatar-error\"\r\n        >\r\n          {urlError.errorMessage}\r\n          </span>\r\n      </label>\r\n\r\n    </FormPopup>\r\n  );\r\n}\r\n\r\nexport default EditAvatar;\r\n","import React from 'react';\r\nimport FormPopup from './FormPopup';\r\n\r\nfunction AddPlace(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [nameError, setNameError] = React.useState({\r\n    classInput: '',\r\n    classError: '',\r\n    errorMessage: '',\r\n  });\r\n  const [link, setLink] = React.useState('');\r\n  const [linkError, setLinkError] = React.useState({\r\n    classInput: '',\r\n    classError: '',\r\n    errorMessage: '',\r\n  });\r\n\r\n  const [isNameValid, setIsNameValid] = React.useState(false);\r\n  const [isLinkValid, setIsLinkValid] = React.useState(false);\r\n  const [isFormValid, setIsFormValid] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (isNameValid && isLinkValid) setIsFormValid(true);\r\n\r\n    return () => {\r\n      setIsFormValid(false);\r\n    };\r\n  }, [isNameValid, isLinkValid]);\r\n\r\n  React.useEffect(() => {\r\n    setNameError({\r\n      classInput: '',\r\n      classError: '',\r\n      errorMessage: '',\r\n    });\r\n    setLinkError({\r\n      classInput: '',\r\n      classError: '',\r\n      errorMessage: '',\r\n    });\r\n    setName('');\r\n    setLink('');\r\n    setIsNameValid(false);\r\n    setIsLinkValid(false);\r\n  }, [props.isOpen]);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n\r\n    if (!evt.target.validity.valid) {\r\n      setNameError({\r\n        classInput: 'form__input_error',\r\n        classError: 'form__error_visible',\r\n        errorMessage: evt.target.validationMessage,\r\n      });\r\n      setIsNameValid(false);\r\n    } else {\r\n      setNameError({\r\n        classInput: '',\r\n        classError: '',\r\n        errorMessage: '',\r\n      });\r\n      setIsNameValid(true);\r\n    }\r\n  }\r\n\r\n  function handleLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n\r\n    if (!evt.target.validity.valid) {\r\n      setLinkError({\r\n        classInput: 'form__input_error',\r\n        classError: 'form__error_visible',\r\n        errorMessage: evt.target.validationMessage,\r\n      });\r\n      setIsLinkValid(false);\r\n    } else {\r\n      setLinkError({\r\n        classInput: '',\r\n        classError: '',\r\n        errorMessage: '',\r\n      });\r\n      setIsLinkValid(true);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onAddCardSubmit({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <FormPopup\r\n      name=\"add-place\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      submitName={props.isPopupLoading ? 'Создать...' : 'Создать'}\r\n      isDisabled={!isFormValid}\r\n    >\r\n      <label className=\"form__field form__field_type_popup\">\r\n        <input\r\n          className={`form__input form__input_type_popup ${nameError.classInput}`}\r\n          id=\"name-card\"\r\n          maxLength=\"30\"\r\n          minLength=\"2\"\r\n          name=\"title\"\r\n          placeholder=\"Название\"\r\n          required\r\n          type=\"text\"\r\n          value={name}\r\n          onChange={handleNameChange}/>\r\n        <span\r\n          className={`form__error ${nameError.classError}`}\r\n          id=\"about-error\"\r\n        >\r\n          {nameError.errorMessage}\r\n        </span>\r\n      </label>\r\n      <label className=\"form__field form__field_type_popup\">\r\n        <input\r\n          className={`form__input form__input_type_popup ${linkError.classInput}`}\r\n          id=\"link\"\r\n          name=\"src\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          type=\"url\"\r\n          value={link}\r\n          onChange={handleLinkChange}/>\r\n        <span\r\n          className={`form__error ${linkError.classError}`}\r\n          id=\"about-error\"\r\n        >\r\n          {linkError.errorMessage}\r\n        </span>\r\n      </label>\r\n    </FormPopup>\r\n  );\r\n}\r\n\r\nexport default AddPlace;\r\n","import React from 'react';\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <div className='spinner__position'>\r\n      <div className=\"spinner\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","export const baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-12';\r\nexport const authorization = '2ecad59e-1d15-4621-aac6-769c45c3d932';\r\n\r\nexport const BASE_URL = 'https://auth.nomoreparties.co';\r\n","import {\r\n  authorization,\r\n  baseUrl,\r\n} from './constants';\r\n\r\nclass API {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._authorization = options.authorization;\r\n  }\r\n\r\n  // не получается убрать ошибку линтинга\r\n  // class API {\r\n  //   constructor({ baseUrl, authorization }) {\r\n  //     this._baseUrl = baseUrl;\r\n  //     this._authorization = authorization;\r\n  // }\r\n\r\n  _fetch(url, params) {\r\n    return fetch(this._baseUrl + url, params)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ну вот, все пропало (Ошибка: ${res.status})`));\r\n      });\r\n  }\r\n\r\n  getInitialUserInfo() {\r\n    return this._fetch('/users/me', {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    });\r\n  }\r\n\r\n  editUserInfo({ name, about }) {\r\n    return this._fetch('/users/me', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ name, about }),\r\n    });\r\n  }\r\n\r\n  editUserAvatar({ avatar }) {\r\n    return this._fetch('/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    });\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._fetch('/cards', {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    });\r\n  }\r\n\r\n  postUserCard({ name, link }) {\r\n    return this._fetch('/cards', {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._authorization,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ name, link }),\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._fetch(`/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(cardID, like) {\r\n    return this._fetch(`/cards/likes/${cardID}`, {\r\n      method: like ? 'PUT' : 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new API({ baseUrl, authorization });\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport Form from './Form';\r\n\r\nfunction Entrance(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [emailError, setEmailError] = React.useState({\r\n    classInput: '',\r\n    classError: '',\r\n    errorMessage: '',\r\n  });\r\n\r\n  const [passwordError, setPasswordError] = React.useState({\r\n    classInput: '',\r\n    classError: '',\r\n    errorMessage: '',\r\n  });\r\n\r\n  const [password, setPassword] = React.useState('');\r\n  const [emailValid, setEmailValid] = React.useState(false);\r\n  const [passwordValid, setPasswordValid] = React.useState(false);\r\n  const [isFormValid, setIsFormValid] = React.useState(false);\r\n  const [inputPasswordType, setInputPasswordType] = React.useState('password');\r\n\r\n  React.useEffect(() => {\r\n    if (emailValid && passwordValid) setIsFormValid(true);\r\n\r\n    return () => {\r\n      setIsFormValid(false);\r\n    };\r\n  }, [emailValid, passwordValid]);\r\n\r\n  function handleEmailChange(evt) {\r\n    setEmail(evt.target.value);\r\n\r\n    if (!evt.target.validity.valid) {\r\n      setEmailError({\r\n        classInput: 'form__input_error',\r\n        classError: 'form__error_visible',\r\n        errorMessage: evt.target.validationMessage,\r\n      });\r\n      setEmailValid(false);\r\n    } else {\r\n      setEmailError({\r\n        classInput: '',\r\n        classError: '',\r\n        errorMessage: '',\r\n      });\r\n      setEmailValid(true);\r\n    }\r\n  }\r\n\r\n  function handlePasswordChange(evt) {\r\n    setPassword(evt.target.value);\r\n\r\n    if (!evt.target.validity.valid) {\r\n      setPasswordError({\r\n        classInput: 'form__input_error',\r\n        classError: 'form__error_visible',\r\n        errorMessage: evt.target.validationMessage,\r\n      });\r\n      setPasswordValid(false);\r\n    } else {\r\n      setPasswordError({\r\n        classInput: '',\r\n        classError: '',\r\n        errorMessage: '',\r\n      });\r\n      setPasswordValid(true);\r\n    }\r\n  }\r\n\r\n\r\n  function onSubmit(evt) {\r\n    evt.preventDefault();\r\n    if (!email && !password) return;\r\n    props.onSubmit(password, email);\r\n    setPassword('');\r\n  }\r\n\r\n  function handleShowPassword() {\r\n    inputPasswordType === 'password' ? setInputPasswordType('text') : setInputPasswordType('password');\r\n  }\r\n\r\n  return (\r\n\r\n    <div className=\"entrance\">\r\n      <Form\r\n        formName='entrance'\r\n        title={props.title}\r\n        submitName={props.submitName}\r\n        entrance={true}\r\n        onSubmit={onSubmit}\r\n        path={props.path}\r\n        entranceText={props.entranceText}\r\n        entranceLinkText={props.entranceLinkText}\r\n        isDisabled={!isFormValid}\r\n      >\r\n        <label className=\"form__field form__field_type_entrance\">\r\n          <input\r\n            name='email'\r\n            className={`form__input form__input_type_entrance ${emailError.classInput}`}\r\n            id=\"name-card\"\r\n            placeholder=\"Email\"\r\n            required\r\n            type='email'\r\n            value={email}\r\n            onChange={handleEmailChange}\r\n          />\r\n          <span\r\n            className={`form__error ${emailError.classError}`}\r\n            id=\"about-error\"\r\n          >\r\n          {emailError.errorMessage}\r\n          </span>\r\n        </label>\r\n        <label className=\"form__field form__field_type_entrance\">\r\n          <input\r\n            className={`form__input form__input_type_entrance ${passwordError.classInput}`}\r\n            onChange={handlePasswordChange}\r\n            type={inputPasswordType}\r\n            id='password'\r\n            name='password'\r\n            value={password}\r\n            placeholder='Пароль'\r\n            minLength='4'\r\n            maxLength='30'\r\n            required\r\n          />\r\n          <button\r\n            type='button'\r\n            className={`button form__input-password form__input-password_type_${inputPasswordType} `}\r\n            onClick={handleShowPassword}\r\n            onKeyDown={(evt) => evt.preventDefault}/>\r\n          <span\r\n            className={`form__error ${passwordError.classError}`}\r\n            id=\"about-error\"\r\n          >\r\n          {passwordError.errorMessage}\r\n            </span>\r\n        </label>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Entrance;\r\n","import React from 'react';\r\nimport Entrance from './Entrance';\r\n\r\nfunction Login(props) {\r\n\r\n  function submitForm(password, email) {\r\n    props.onLogin(password, email);\r\n  }\r\n\r\n  return (\r\n    <Entrance\r\n      submitName=\"Войти\"\r\n      title=\"Вход\"\r\n      entranceText='Ещё не зарегистрированы? '\r\n      entranceLinkText='Регистрация'\r\n      path='/sign-up'\r\n      onSubmit={submitForm}\r\n      cleanCodeStatusInfo={props.cleanCodeStatusInfo}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport Entrance from './Entrance';\r\n\r\nfunction Register(props) {\r\n  function submitForm(password, email) {\r\n    props.onRegister(password, email);\r\n  }\r\n\r\n  return (\r\n    <Entrance\r\n      submitName=\"Зарегистрироваться\"\r\n      title=\"Регистрация\"\r\n      entranceText='Уже зарегистрированы? '\r\n      entranceLinkText='Войти'\r\n      onSubmit={submitForm}\r\n      path='/sign-in'\r\n    />\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => (\r\n  <Route>\r\n    {\r\n      () => (props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />)\r\n    }\r\n  </Route>\r\n);\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport FormPopup from './FormPopup';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  return (\r\n    <FormPopup\r\n      name=\"info-tooltip\"\r\n      formName='infoTooltip'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      loggedIn={props.loggedIn}\r\n      infoTooltip={true}\r\n    >\r\n      <img src={props.codeStatusInfo.iconStatus} alt='Иконка с ответом сервера' className='form__icon'/>\r\n      <div className='form__position-title-popup-info'>\r\n        <p className='form__title'>{props.codeStatusInfo.text}</p>\r\n      </div>\r\n\r\n\r\n    </FormPopup>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","class BadRequestError extends Error {\r\n  constructor(message) {\r\n    super(message);\r\n    this.status = 400;\r\n    this.message = message;\r\n  }\r\n}\r\n\r\nexport default BadRequestError;\r\n","class BadRequestError extends Error {\r\n  constructor(message) {\r\n    super(message);\r\n    this.status = 401;\r\n    this.message = message;\r\n  }\r\n}\r\n\r\nexport default BadRequestError;\r\n","import BadRequestError from '../errors/BadRequestError';\r\nimport UnauthorizedError from '../errors/UnauthorizedError';\r\nimport { BASE_URL } from './constants';\r\n\r\nexport const register = (password, email) => fetch(`${BASE_URL}/signup`, {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ password, email }),\r\n})\r\n  .then((res) => {\r\n    if (!res.ok) {\r\n      return res.json()\r\n        .then((err) => {\r\n          if (err.error) {\r\n            throw new BadRequestError(err.error);\r\n          } else {\r\n            throw new BadRequestError(err.message);\r\n          }\r\n        });\r\n    }\r\n    return res.json();\r\n  });\r\n\r\nexport const authorize = (password, email) => fetch(`${BASE_URL}/signin`, {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ password, email }),\r\n})\r\n  .then((res) => {\r\n    if (res.status === 400) {\r\n      throw new BadRequestError('Не передано одно из полей');\r\n    }\r\n    else if (res.status === 401) {\r\n      throw new UnauthorizedError('Пользователь с таким email не найден');\r\n    }\r\n    return res.json();\r\n  })\r\n  .then((data) => {\r\n    if (data.token) {\r\n      localStorage.setItem('jwt', data.token);\r\n      return data.token;\r\n    }\r\n  });\r\n\r\nexport const getContent = (token) => fetch(`${BASE_URL}/users/me`, {\r\n  method: 'GET',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${token}`,\r\n  },\r\n})\r\n  .then((res) => {\r\n    if (!res.ok) {\r\n      return res.json()\r\n        .then((err) => {\r\n          throw new UnauthorizedError(err.message);\r\n        });\r\n    }\r\n    return res.json()\r\n  })\r\n  .then((data) => data);\r\n\r\n\r\n","import React from 'react';\r\nimport {\r\n  Route, Switch, useLocation, Redirect, useHistory,\r\n} from 'react-router-dom';\r\n\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImageZoom from './Popups/ImageZoom';\r\nimport Confirm from './Popups/Confirm';\r\nimport EditProfile from './Popups/EditProfile';\r\nimport EditAvatar from './Popups/EditAvatar';\r\nimport AddPlace from './Popups/AddPlace';\r\nimport Spinner from './Spinner';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport api from '../utils/API';\r\nimport Login from './Login';\r\nimport MenuMobile from './MenuMobile';\r\nimport Register from './Register';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './Popups/InfoTooltip';\r\nimport * as auth from '../utils/auth';\r\n\r\nimport success from '../images/status-code-SUCCESS.svg';\r\nimport clientError from '../images/status-code-CLIENT_ERROR.svg';\r\nimport loading from '../images/status-code-LOADING-black.svg';\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: '',\r\n    avatar: '',\r\n    about: '',\r\n    _id: '',\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = React.useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [isPopupLoading, setIsPopupLoading] = React.useState(false);\r\n\r\n  const [dataImage, setDataImage] = React.useState({\r\n    link: '',\r\n    name: '',\r\n  });\r\n  const [selectedCard, setSelectedCard] = React.useState(false);\r\n  const [cardDelete, setCardDelete] = React.useState({});\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n  const [codeStatusInfo, setCodeStatusInfo] = React.useState({\r\n    iconStatus: loading,\r\n    text: 'Загрузка...',\r\n  });\r\n\r\n  const [isShowMenu, setIsShowMenu] = React.useState('menu-mobile_type_close');\r\n  const [classHeaderMenu, setClassHeaderMenu] = React.useState('header__menu_type_closed');\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  // Проверить токен\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      auth.getContent(jwt)\r\n        .then((res) => {\r\n          setLoggedIn(true);\r\n          setEmail(res.data.email);\r\n          history.push('/');\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  }, [history]);\r\n\r\n\r\n  function cleanCodeStatusInfo() {\r\n    setCodeStatusInfo(\r\n      {\r\n        iconStatus: loading,\r\n        text: 'Загрузка...',\r\n      }\r\n    )\r\n  }\r\n\r\n  function handleRegister(password, email) {\r\n\r\n    cleanCodeStatusInfo();\r\n\r\n    auth.register(escape(password), email)\r\n      .then(() => {\r\n        setCodeStatusInfo({ iconStatus: success, text: 'Регистрация прошла успешно!' });\r\n      })\r\n      .catch((err) => setCodeStatusInfo({ iconStatus: clientError, text: err.message }));\r\n    setInfoTooltipOpen(true);\r\n  }\r\n\r\n\r\n  function handleLogin(password, email) {\r\n\r\n    cleanCodeStatusInfo();\r\n\r\n    auth.authorize(escape(password), email)\r\n      .then((data) => {\r\n        auth.getContent(data)\r\n          .then((res) => {\r\n            setEmail(res.data.email);\r\n          })\r\n          .catch(err => console.log(err));\r\n        setLoggedIn(true);\r\n        setCodeStatusInfo({ iconStatus: success, text: 'Вход выполнен!' });\r\n        history.push('/');\r\n      })\r\n\r\n      .catch((err) => setCodeStatusInfo({ iconStatus: clientError, text: err.message }))\r\n    setInfoTooltipOpen(true);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setIsLoading(true);\r\n    Promise.all([api.getInitialUserInfo(), api.getInitialCards()])\r\n      .then(([initialUserInfo, initialCards]) => {\r\n        setCurrentUser(initialUserInfo);\r\n        setCards(initialCards);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => console.log(`Данные пользователя и карточки не прогрузились. ${err}`));\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddCardClick() {\r\n    setIsAddCardPopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteCardClick(card) {\r\n    setCardDelete(card);\r\n    setIsConfirmPopupOpen(true);\r\n  }\r\n\r\n  function handleCardZoom(props) {\r\n    setSelectedCard(true);\r\n    setDataImage({ link: props.link, name: props.name });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddCardPopupOpen(false);\r\n    setIsConfirmPopupOpen(false);\r\n    setSelectedCard(false);\r\n    setInfoTooltipOpen(false);\r\n  }\r\n\r\n  function handleEsc(evt) {\r\n    if (evt.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener('keydown', handleEsc);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEsc);\r\n    };\r\n  });\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        // Обновляем стейт\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Не удалось поставить лайк. ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    api.deleteCard(cardDelete._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== cardDelete._id);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка при удалении карточки. ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    setIsPopupLoading(true);\r\n    return api.editUserInfo({ name, about })\r\n      .then((user) => {\r\n        setCurrentUser(user);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Ошибка обновлении информации о пользователе. ${err}`))\r\n      .finally(() => {\r\n        setIsPopupLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    setIsPopupLoading(true);\r\n    return api.editUserAvatar({ avatar })\r\n      .then((user) => {\r\n        setCurrentUser(user);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.error(`Ошибка при обновлении аватара. ${err}`))\r\n      .finally(() => {\r\n        setIsPopupLoading(false);\r\n      });\r\n  }\r\n\r\n  const handleAddPlaceSubmit = ({ name, link }) => {\r\n    setIsPopupLoading(true);\r\n    return api.postUserCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Ошибка при добавлении карточки. ${err}`))\r\n      .finally(() => {\r\n        setIsPopupLoading(false);\r\n      });\r\n  };\r\n\r\n  function handleSignOut() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem('jwt');\r\n    setEmail('');\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  function showMenu() {\r\n    isShowMenu === 'menu-mobile_type_close'\r\n      ? setIsShowMenu('menu-mobile_type_open')\r\n      : setIsShowMenu('menu-mobile_type_close');\r\n\r\n    classHeaderMenu === 'header__menu_type_opened'\r\n      ? setClassHeaderMenu('header__menu_type_closed')\r\n      : setClassHeaderMenu('header__menu_type_opened')\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      {loggedIn &&\r\n      < MenuMobile\r\n        email={email}\r\n        signOut={handleSignOut}\r\n        isShowMenu={isShowMenu}\r\n      />\r\n      }\r\n      <Header\r\n        loggedIn={loggedIn}\r\n        locaction={location}\r\n        email={email}\r\n        signOut={handleSignOut}\r\n        showMenu={showMenu}\r\n        classHeaderMenu={classHeaderMenu}\r\n      />\r\n      <Switch>\r\n        {isLoading\r\n          ? <Spinner/>\r\n          : <ProtectedRoute exact path=\"/\"\r\n                            loggedIn={loggedIn}\r\n                            component={Main}\r\n                            onEditAvatar={handleEditAvatarClick}\r\n                            onEditProfile={handleEditProfileClick}\r\n                            onAddCard={handleAddCardClick}\r\n                            onCardZoom={handleCardZoom}\r\n                            onCardDelete={handleDeleteCardClick}\r\n                            onCardLike={handleCardLike}\r\n                            cards={cards}\r\n          />\r\n        }\r\n        <Route path='/sign-in'>\r\n          <Login onLogin={handleLogin}/>\r\n        </Route>\r\n\r\n        <Route path='/sign-up'>\r\n          <Register onRegister={handleRegister}/>\r\n        </Route>\r\n\r\n        <Route>\r\n          {loggedIn ? <Redirect to=\"/\"/> : <Redirect to=\"/sign-in\"/>}\r\n        </Route>\r\n      </Switch>\r\n\r\n      <Footer/>\r\n\r\n      <EditAvatar\r\n        isOpen={isEditAvatarPopupOpen}\r\n        isPopupLoading={isPopupLoading}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n\r\n      <EditProfile\r\n        isOpen={isEditProfilePopupOpen}\r\n        isPopupLoading={isPopupLoading}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n\r\n      <AddPlace\r\n        isOpen={isAddCardPopupOpen}\r\n        isPopupLoading={isPopupLoading}\r\n        onClose={closeAllPopups}\r\n        onAddCardSubmit={handleAddPlaceSubmit}\r\n      />\r\n\r\n      <Confirm\r\n        isOpen={isConfirmPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onCardDelete={handleCardDelete}\r\n      />\r\n\r\n      <InfoTooltip\r\n        isOpen={isInfoTooltipOpen}\r\n        onClose={closeAllPopups}\r\n        loggedIn={loggedIn}\r\n        codeStatusInfo={codeStatusInfo}\r\n      />\r\n\r\n      <ImageZoom\r\n        isOpen={selectedCard}\r\n        onClose={closeAllPopups}\r\n        image={dataImage}\r\n      />\r\n\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App/>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}